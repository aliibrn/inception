################################## GENERAL #####################################

# By default Redis does not run as a daemon inside Docker
daemonize no

# PID file (not needed in containers, but kept for compatibility)
pidfile /var/run/redis/redis-server.pid

# Log level: debug, verbose, notice, warning
loglevel notice

# Log file (use stdout for Docker logs)
logfile ""

################################## NETWORK #####################################

# Default bind is localhost, we disable it so other containers can connect
# bind 127.0.0.1
protected-mode no

# Default Redis port
port 6379

################################## SECURITY ####################################

# Password protection (uncomment and set $REDIS_PWD in your entrypoint if needed)
# requirepass my-strong-password

################################# MEMORY #######################################

# Max memory usage (development-friendly limit)
maxmemory 2mb

# Eviction policy when memory is full
maxmemory-policy allkeys-lru

################################# SNAPSHOTTING #################################

# Save the DB on disk (disabled for small dev setups, enable if needed)
save ""

# Disable RDB persistence (comment out if persistence is required)
rdbcompression yes
dbfilename dump.rdb
dir /data

################################# APPEND ONLY MODE #############################

# Append-only file is disabled by default (not needed for cache use-case)
appendonly no

################################# CLIENTS ######################################

# Set maximum connected clients (default: 10000)
maxclients 10000

################################# ADVANCED #####################################

# Keep Redis simple for container usage
tcp-keepalive 300

# Enable lazy freeing of objects
lazyfree-lazy-eviction yes
lazyfree-lazy-expire yes
lazyfree-lazy-server-del yes
replica-lazy-flush yes
